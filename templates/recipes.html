{% extends 'base.html' %}{%block content %}

<div class="row jumbotron center-align">
  <h1 class=" ">Recipes</h1>
  <form method="POST" action="{{url_for('search')}}">
    <input
      type="search"
      name="search"
      placeholder="Search for recipes..."
      id="searchbar"
      class="fas fa-search icon-search"
    />
    <button class="btn-floating pulse" search-btn type="submit">
      <i class="fas fa-search"></i>
    </button>
  </form>
  <br />
</div>
<div class="row">
  {% for item in types %}
  <a href="{{url_for('recipe_list', recipe_type=item.type_name) }}">
    <div class="card col s6 m6 l3 center-align activator">
      <div class="card-image waves-effect waves-block waves-light">
        {% if item.type_name == 'Dessert' %}
        <img
          class="activator"
          src="{{ url_for('static', filename='images/dessert.jpg') }}"
        />
        {% elif item.type_name == 'Snack' %}
        <img
          class="activator"
          src="{{ url_for('static', filename='images/food.jpg') }}"
        />
        {% elif item.type_name == 'Starter' %}
        <img
          class="activator"
          src="{{ url_for('static', filename='images/starter.jpg') }}"
        />
        {% elif item.type_name == 'Main'%}
        <img
          class="activator"
          src="{{ url_for('static', filename='images/main.jpg') }}"
        />
        {% else %}
        <img
          class="activator"
          src="{{ url_for('static', filename='images/books.jpg') }}"
        />
        {% endif %}
      </div>
      <div class="card-content">
        <h3>
          <span class="card-title activator grey-text text-darken-4"
            >{{item.type_name}}</span
          >
        </h3>
      </div>
    </div>
  </a>
  {% endfor %} 
  <div class="row"></div>
</div>
{% if recipes|length > 0 %}
<div class="row center-align">
  <a
    href="{{url_for('add_recipe') }}"
    <button
    class="pulse center-align green btn-large"
    >Add Recipe <i class="fas fa-plus-circle"></i
  ></a>
</div>
<br />
<hr />
<div class="row center-align">
  <h2>All Recipes:</h2>
</div>

<div class="row">
<ul class="collection">
  {% for item in recipes %}
  <li class="collection-item avatar col s6">
    {% if item.type == 'Dessert' %}
        <img
          class="circle"
          src="{{ url_for('static', filename='images/dessert.jpg') }}"
        />
        {% elif item.type == 'Snack' %}
        <img
          class="circle"
          src="{{ url_for('static', filename='images/food.jpg') }}"
        />
        {% elif item.type == 'Starter' %}
        <img
          class="circle"
          src="{{ url_for('static', filename='images/starter.jpg') }}"
        />
        {% elif item.type == 'Main'%}
        <img
          class="circle"
          src="{{ url_for('static', filename='images/main.jpg') }}"
        />
        {% else %}
        <img
          class="circle"
          src="{{ url_for('static', filename='images/books.jpg') }}"
        />
    {% endif %}
    <span class="title">
      <a href="{{url_for('view_recipe', recipe_id=item._id) }}"
        ><h2>{{item.recipe_name}}</h2></a>
      {% if item.created_by == session.user %}
      <p><i
              id="ribbon"
              class="fas fa-ribbon"
            ></i
            > Created by YOU</p></span
    >{% else %}
    <p>
       <h4><i class="fas fa-user"></i> Creator: {{item.created_by}}{% endif %}</h4><br />
    </p>
    <br>
    
    <a href="#!" class="secondary-content"
      >{{item.rating}} <i id="star" class="fas fa-star"></i></a
    >
  </li>
  {% endfor %} 
</ul>
</div>

{% else %}
<h3 class="red-text text-darken center-align">NO RESULTS FOUND</h3>
{% endif %} {% endblock %}
